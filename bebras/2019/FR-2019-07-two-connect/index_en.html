<!DOCTYPE html>
<html>
   <head>
      <meta charset="utf-8">
      <title>FR-2019-07-two-connect</title>
      <script>
         window.stringsLanguage = 'en';
      </script>
      <script class="remove" type="text/javascript" src="../../../_common/modules/pemFioi/importModules-1.1_M.js" id="import-modules"></script>
      <script class="remove" type="text/javascript">
         var modulesPath = '../../../_common/modules';
         importModules([
            'jquery-1.7.1', 'jquery-ui.touch-punch', 'raphael-2.2.1', 'JSON-js',
            'beav-1.0', 'beaver-task-2.0', 'simulation-2.0', 'raphaelFactory-1.0',
            'delayFactory-1.0', 'simulationFactory-1.0', 'raphaelButton-1.0', 'drag_lib-2.0',
            'platform-pr', 'buttonsAndMessages', 'installationAPI.01', 'randomGenerator-1.0',
            'miniPlatform', 'taskStyles-0.1','graph-1.0', 'visual-graph-1.1', 'graph-mouse-1.1']);
      </script>

      <script class="remove" type="text/javascript">
       var json = {
          "id": "http://castor-informatique.fr/tasks/2019/FR-2019-07-two-connect/",
          "language": "en",
          "version": "en.01",
          "authors": "Arthur Charguéraud",
          "translators": [],
          "license": "CC BY-SA 3.0",
          "taskPathPrefix": "",
          "modulesPathPrefix": "",
          "browserSupport": [],
          "acceptedAnswers": [""]
      };
      </script>
      <script>
         var taskStrings = {
            success: "恭喜, 你成功了 !",
            alreadyExist: "这里已经有一个管道了。",
            isolatedHouse: "有一根管子卡住了，红色高亮的那朵花得不到任何水哦",
            max: function(max) {
              return "You already added "+max+"&nbsp;pipes.";
            }
         };
      </script>
      <style class="">
         #paper { /* IE8 */
            text-align: center;
            margin: 1em auto 0 auto;
            text-align: center;
            touch-action: none;
         }
         #message {
            margin-bottom: 1em;
         }
         #error {
            height: 2em;
         }
         .paper-instr td {
            vertical-align: top;
         }
         #fullbg {
         background-color: #7C98D1;
         opacity: 0.5;
         left: 0;
         opacity: 0.5;
         position: absolute;
         top: 0;
         z-index: 1500;
         filter: alpha(opacity=50);
         -moz-opacity: 0.5;
         -khtml-opacity: 0.5;
         display: block;
         width: 100vw;
         height: 100vh;
      }

      #displayHelper_validate::before {
         content: '';
         width: 200%;
         height: 175%;
         background-color: rgba(255, 255, 255);
         z-index: -1;
         position: absolute;
         top: -40%;
         left: 0%;
         border-radius: 80px;
      }

      #displayHelper_validate::after {
         content: '您可以验证答案是否正确或重新开始作答~';
         width: 200%;
         height: 180%;
         background-color: rgba(255, 255, 255);
         z-index: 1500;
         position: absolute;
         top: 250%;
         left: 10%;
         border-radius: 83px;
         font-size: 14px;
         font-weight: 400;
         line-height: 1.42857143;
         text-align: center;
         display: flex;
         flex-direction: row;
         align-items: center;
         justify-content: center;
      }

      #displayHelper_saved::after {
         content: '';
         width: 0;
         height: 0;
         border-width: 0 25px 30px 25px;
         border-style: solid;
         border-color: transparent transparent #fff transparent;
         position: absolute;
         top: 120%;
         left: 20%;
      }

      .relative {
         position: relative;
      }
      #popupMessage.floatingMessage {
         z-index: 2100;
      }
      #zone_2::after {
         content: '我知道了！';
         width: 150px;
         height: 60px;
         background-color: #FDF151;
         z-index: 1500;
         position: absolute;
         top: 130%;
         left: 60%;
         border-radius: 30px;
         font-size: 20px;
         font-weight: 400;
         line-height: 1.42857143;
         text-align: center;
         display: flex;
         flex-direction: row;
         align-items: center;
         justify-content: center;
         pointer-events: auto;
      }
      #paper::before {
         content: '';
         width: 0;
         height: 0;
         border-width:12px 20px 12px 0;
         border-style: solid;
         border-color: transparent #fff transparent  transparent;
         position: absolute;
         top: calc(110% - 17px);
         left: 148px;
      }
      
      #paper::after {
         content: '点击任意两朵花，它们之间会出现一个新的管道，表示水可以通过~';
         width: 500px;
         height: 60px;
         background-color: rgba(255, 255, 255);
         z-index: 1500;
         position: absolute;
         top: calc(110% - 32px);
         left: 160px;
         font-size: 16px;
         font-weight: 400;
         line-height: 1.42857143;
         display: flex;
         flex-direction: row;
         align-items: center;
         justify-content: center;
      }
      </style>
      <script src="task.js"></script>
   </head>
   <body>
      <div id="fullbg">

      </div>
      <div id="task">
<!--         <h1>浇花</h1>-->
<!--         <div id="tabsContainer"></div>   &lt;!&ndash; will contain the versions tabs &ndash;&gt;-->
         <div id="taskContent">        <!-- will contain the content of the task -->
            <div id="zone_1">
               <div class="consigne">
                  <p>小松鼠安装了水管，使水从水龙头里流出来浇花。</p>
                  <p>你的目标是，即使有一根管子卡住了，也要让所有的花都能浇到水。</p>
                  <p>为了实现目标, 请添加<strong><span id="minEdges"></span>根水管</strong>。</p>
                  <p>
                  分别点击两朵花，可以在它们之间加上1根水管。
                  点击添加的水管可以删除它。
                  </p>

               </div>
            </div>
            <div id="zone_2">
               <center>
                  <table class="paper-instr">
                     <tr>
                     <td style="width:520px">
                        <div id="paper"></div>
                     </td>
                     <td style="width:200px">
                        <br/>
                        <p class="hard" style="margin-top:1em; height:3em" id="instructions">
                        <strong>You can move the flowers to help you.</strong>
                        </p>
                        <div id="error"></div>
                     </td>
                     </tr>
                  </table>
               </center>
            </div>
         </div>
         <img src="flower.png" style="display:none" id="flower">
         <img src="faucet.png" style="display:none" id="faucet">
         <img src="icon.png" style="display:none">

      </div><!-- task -->
      <div id="solution">
         <h2>Solution 离散数学-图论-节点的度</h2>
      </div>
      <script>
         setTimeout(() => {
            $('#displayHelper_validate').addClass('relative').css('z-index', 2000);
            $('#displayHelper_saved').addClass('relative').css('z-index', 2000);
            $('#displayHelper_cancel').addClass('relative').css('z-index', 2000);
            $('#paper').addClass('relative').css('z-index', 2000);
            $('#zone_2').addClass('relative').css({'z-index': 2000},{'pointer-events': 'none'});
         }, 50);
         $('#zone_2').on('click', function () {
            $('#zone_2').append("<style>#zone_2::after{content: none}</style>");
            $('#displayHelper_validate').append("<style>#displayHelper_validate::after,#displayHelper_validate::before{content: none}</style>");
            $('#displayHelper_saved').append("<style>#displayHelper_saved::after{content: none}</style>");
            $('#paper').append("<style>#paper::after,#paper::before{content: none}</style>");
            $('#fullbg').css('display','none'); 
            }) 
      </script>
   </body>
</html>
