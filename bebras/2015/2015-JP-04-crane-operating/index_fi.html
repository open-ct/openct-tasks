<!doctype html>
<html>
   <head>
    <meta charset="utf-8">
    <title>2015-JP-04</title>
    <link class="module" rel="stylesheet" href="../../../_common/modules/pemFioi/taskStyles-0.1.css" id="http://www.france-ioi.org/modules/pemFioi/taskStyles-0.1.css">
    <script class="module" type="text/javascript" src="../../../_common/modules/ext/jquery/1.7/jquery.min.js" id="http://code.jquery.com/jquery-1.7.1.min.js"></script>
    <script class="module" type="text/javascript" src="../../../_common/modules/ext/jquery-ui/jquery.ui.touch-punch.min.js" id="jquery.ui.touch-punch.min.js"></script>
    <script class="module" type="text/javascript" src="../../../_common/modules/ext/raphael/2.2.1/raphael.min.js" id="http://cdnjs.cloudflare.com/ajax/libs/raphael/2.2.1/raphael.min.js"></script>

    <script class="module" type="text/javascript" src="../../../_common/modules/ext/json/json2.min.js" id="https://github.com/douglascrockford/JSON-js"></script>
    <script class="module" type="text/javascript" src="../../../_common/modules/pemFioi/beaver-task.js" id="http://www.france-ioi.org/modules/pemFioi/beaver-task.js"></script>
    <script class="module" type="text/javascript" src="../../../_common/modules/pemFioi/beav-1.0.js" id="http://www.france-ioi.org/modules/pemFioi/beav-1.0.js"></script>
    <script class="module" type="text/javascript" src="../../../_common/modules/pemFioi/simulation-1.0.js" id="http://www.france-ioi.org/modules/pemFioi/simulation-1.0.js"></script>
    <script class="module" type="text/javascript" src="../../../_common/modules/pemFioi/raphaelButton-1.0.js" id="http://www.france-ioi.org/modules/pemFioi/raphaelButton-1.0.js"></script>
    <script class="remove" type="text/javascript" src="../../../_common/modules/integrationAPI.01/installationAPI.01/pemFioi/installation.js" id="http://www.france-ioi.org/modules/integrationAPI.01/installationAPI.01/pemFioi/installation.js"></script>
    <script class="proxy module" type="text/javascript" src="../../../_common/modules/integrationAPI.01/official/platform-pr.js" id="http://www.france-ioi.org/modules/integrationAPI.01/official/platform-pr.js"></script>
    <script class="stdButtonsAndMessages module" type="text/javascript" src="../../../_common/modules/integrationAPI.01/installationAPI.01/pemFioi/buttonsAndMessages.js"  id="http://www.france-ioi.org/modules/integrationAPI.01/installationAPI.01/pemFioi/buttonsAndMessages.js"></script>
    <script class="remove" type="text/javascript" src="../../../_common/modules/integrationAPI.01/official/miniPlatform.js" id="http://www.france-ioi.org/modules/integrationAPI.01/official/miniPlatform.js"></script>
      <script class="remove" type="text/javascript">
       var json = {
          "id": "http://castor-informatique.fr/tasks/2015/2015-JP-04-crane-operating/",
          "language": "fi",
          "version": "fi.01",
          "authors": "Takeharu Ishizuka, isizukat@ishizukalab.net, Japan ; Arthur Chargueraud ; Mathias Hiron",
          "translators": "Heikki Hyyrö",
          "license": "CC BY-NC-SA 3.0",
          "taskPathPrefix": "",
          "modulesPathPrefix": "",
          "browserSupport": [],
          "fullFeedback": true,
          "acceptedAnswers": [],
          "usesRandomSeed": false
      };
      </script>
      <script type="text/javascript">
         var stringsLanguage = 'fi';
      var taskStrings = {
         instructions: "Klikkaa harmaita numeroituja nappeja.",
         cannotDrop: "Tämä kohta ei ole tyhjä: nosturi ei voi pudottaa laatikkoa.",
         cannotGrab: "Tämä kohta on tyhjä: nosturi ei voi nostaa laatikkoa.",
         success: "Onnittelut, ratkaisit tämän version!",
         successPartial: function(steps, minSteps) { return "Löysit ratkaisun " + steps + " askeleella.<br/> Yritä löytää " + minSteps + " askeleen ratkaisu."; } };

      </script>
      <script type="text/javascript" src="task.js"></script>
      <style>
         #inputs {
            margin: 0px auto  20px auto;
            border: 1px solid black;
         }
         #anim_container {
            text-align: center;
            min-height: 240px;
         }
         #anim {
            display: inline-block;
         }
         #target_container {
            width: 100%;
            text-align: center;
         }
         #target_container p {
            margin: 0.5em;
         }
         #target_anim {
            width: 320px;
            display: inline-block;
         }
         #sequence {
            margin: 0px auto;
            width: 600px;
            height: 40px;
         }
         #tokens {
            text-align: center;
            font-size: 20px;
         }
         #tokens span {
            padding: 4px;
         }
         .highlighted {
            font-weight: bold;
            border: solid black 1px;
            border-radius: 4px;
         }
         #target_txt p {
            padding-left: 20px;
         }
         #user_sequence {
            min-width: 240px;
            height: 24px;
            border: solid 1px black;
            padding: 10px;
            vertical-align: middle;
            display: table-cell;
            letter-spacing: 3px;
            font-size: 16px;
         }
         #buttons {
            margin-bottom: 20px;
            margin-top: 35px;
            text-align: center;
         }
         #buttons input {
            margin-left: 1em;
         }
         #message_counter {
            margin-right: 1em;
         }
         #feedback {
            height: 1em;
            margin-top: 0em;
            margin-bottom: 0.5em;
            text-align: center;
            font-weight: bold; 
            color: #CC8844;
         }
         /*
         #instructions {
            text-align: center;
            margin-top: 1em;
            font-weight: bold; 
         }*/
      </style>
   </head>
   <body>
      <div id="task">
         <h1>Magneettinosturi</h1>
         <div id="tabsContainer"></div>
         <div id="taskContent">
               <p>
                  Siirrä laatikot vastaamaan tavoitetta käyttäen magneettinosturia, jota ohjataan klikkailemalla harmaita numeroituja nappeja. 
               </p>
               <p>
                  Saat sitä enemmän pisteitä, mitä vähemmän askeleita suoritat.
               </p>
            <table id="inputs">
               <tr>
                  <td id="target_container">
                     <p>
                        Tavoite:
                     </p>
                     <div id="target_anim"></div>
                  </td>
               </tr>
            </table>

            <div id="anim_container">
               <div id="anim"></div>
            </div>
            <!-- FOR TOKENS  <table id="sequence">
               <tr>
                  <td id="tokens">
                     &nbsp;
                  </td>
               </tr>
            </table> -->
            <p id="feedback">
            </p>
            <!--<p id="instructions">
               Click on the grey buttons to control the crane.
            </p>-->

            
            <div id="buttons">
               <span id="message_counter">Suoritettuja askeleita: <span id="step_counter"></span>.</span>
               <input type="button" id="undo" value="Peru askel" />
               <!--<input type="button" id="reset" value="Restart" />-->
            </div>
            <img src="magnet.png" style="display:none">           
            <img src="icon.png" style="display:none">
         </div>
      </div><!-- task -->
      <div id="solution">

         <h2>Ratkaisu</h2>
            <div class="easy">
               <p>Sinisen ja punaisen laatikon vaihtaminen keskenään vaatii, että yksi niistä laitetaan keskellä olevaan tyhjään paikkaan. Tämän jälkeen toinen laitetaan siirretyn laatikon paikalle ja keskelle siirretty laatikko puolestaan toisen paikalle.</p>
               <p>Tämä onnistuu esimerkiksi klikkaamalla nappeja järjestyksessä <b>1 2 3 1 2 3</b>, jolloin nosturi siirtää laatikot seuraavasti:</p>
               <table width="100%">
               <!--<tr><td>Etape 1</td><td>Etape 2</td><td>Etape 3</td><td>Etape 4</td><td>Etape 5</td><td>Etape 6</td>
               </tr>-->
               <tr>
               <td><img src="easy_stage1.png" height="130"></td>
               <td><img src="easy_stage2.png" height="130"></td>
               <td><img src="easy_stage3.png" height="130"></td>
               <td><img src="easy_stage4.png" height="130"></td>
               <td><img src="easy_stage5.png" height="130"></td>
               <td><img src="easy_stage6.png" height="130"></td>
               </tr>
               </table>
               
            </div>
            <div class="medium">
               <p>Voimme huomata, että tavoitteeseen pääsee vapauttamalla laatikkorivin jomman kumman pään, ja siirtämällä sen jälkeen laatikkoriviä askeleen verran, täyttämään tämä tyhjä paikka. Aluksi siirretty laatikko siirretään lopuksi laatikkorivin siirtämisen vapauttamaan toisen pään paikkaan. Tämä periaate on kuvattu alla:
               </p>

               <table width="100%"><tr>
               <td style="vertical-align:top"><b>Vaihe 1:</b> Vapautetaan laatikkorivin vasen pää.</td>
               <td  style="vertical-align:top"><b>Vaihe 2:</b> Siirretään kaikkia jäljellä olevia laatikkorivin laatikoita askel.</td>
               <td  style="vertical-align:top"><b>Vaihe 3:</b> Siirretään aluksi siirretty laatikko laatikkorivin toisesta päästä vapautuneeseen paikkaan.</td>
               </tr>
               <tr>
               <td><img src="medium_stage1.png" height="130"></td>
               <td><img src="medium_stage2.png" height="130"></td>
               <td><img src="medium_stage3.png" height="130"></td>
               </tr>
               </table>

               <p>Yllä kuvattujen vaiheiden mukaiset siirrot saadaan aikaiseksi klikkaamalla nappeja järjestyksessä <b>2 1 3 2 4 3 5 4 6 5 7 6 1 7</b>. On olemassa myös muita vaihtoehtoisia ratkaisuita.</p>

            </div>
            <div class="hard">

               <p>Yksi ratkaisutapa on vapauttaa aluksi yksi paikka, ja toimimalla sen jälkeen seuraavasti: kullakin seuraavalla askeleella siirrämme edellisen askeleen vapauttamaan paikkaan oikeanvärisen laatikon (joka ei vielä ollut oikeassa paikassa, ja joka ei ole alussa siirretty laatikko). Alussa siirretty laatikko laitetaan lopuksi viimeiseen vapautuneeseen paikkaan.</p>
               <p>Tämä periaate siirtää ensiksi siirrettyä laatikkoa kaksi kertaa ja jokaista muuta laatikkoa vain kerran. Tehtävään ei ole olemassa tehokkaampaa ratkaisuperiaatetta, mutta erilaisia tämän periaatteen mukaisia ratkaisuja on useita. Alla on kuvattu eräs.</p>

               <table width="100%">
               <tr>
               <td style="vertical-align:top">Vapautetaan yksi paikka.</td>
               <td style="vertical-align:top">Täytetään vapautunut paikka.</td>
               <td style="vertical-align:top">Täytetään vapautunut paikka.</td>
               </tr>
               <tr>
               <td><img src="hard_stage1.png" height="130"></td>
               <td><img src="hard_stage2.png" height="130"></td>
               <td><img src="hard_stage3.png" height="130"></td>
               </tr>
               <tr>
               <td style="vertical-align:top">Täytetään vapautunut paikka.</td>
               <td style="vertical-align:top">Täytetään vapautunut paikka.</td>
               <td style="vertical-align:top">Täytetään vapautunut paikka.</td>
               </tr><tr>
               <td><img src="hard_stage4.png" height="130"></td>
               <td><img src="hard_stage5.png" height="130"></td>
               <td><img src="hard_stage6.png" height="130"></td>
               </tr>
               <tr>
               <td style="vertical-align:top">Alussa siirretty laatikko viimeiseen vapautuneeseen paikkaan.</td>
               <td style="vertical-align:top">Valmis ratkaisu.</td>
               <td style="vertical-align:top"></td>
               </tr>
               <tr>
               <td><img src="hard_stage7.png" height="130"></td>
               <td><img src="hard_stage8.png" height="130"></td>
               <td>&nbsp;</td>
               </tr>
               </table>

               <p>Yllä kuvattu ratkaisu vastaa klikkauksia <b>2 1 4 2 5 4 3 5 7 3 6 7 1 6</b>.</p>

           </div>
         <h2>Tämä on tietojenkäsittelyä!</h2>
            <p>Tehtävä sivuaa tietojenkäsittelyssä nimellä <b>eheyttäminen</b> tunnettua tehtävää. Tietokoneen toiminnan aikana muistiin yleensä aika ajoin sekä tallennetaan että sieltä vapautetaan dataa. Tämä voi johtaa <b>pirstaloitumiseen</b>, jossa muistiin tallennettu data sijaitsee hajallaan ympäri muistia. Pirstaloituminen voi johtaa ongelmiin, koska sen myötä ei välttämättä voida enää varata uusia suuria <i>yhtenäisiä</i> vapaita muistialueita, vaikka muistia sinänsä olisi riittävästi vapaana: vapaa muisti sijaitsee hajaantuneesti pienemmissä osissa ympäri muistia. Monet datan tallennustarpeet kuitenkin edellyttävät nimenomaan yhtenäisen muistialueen varaamista.
            </p>
            </p>Muistin pirstaloitumisen tuomia ongelmia voidaan ehkäistä <b>eheyttämällä</b> muisti. Tämä tarkoittaa, että muistiin hajanaisesti tallennetut datat uudelleenorganisoidaan (eli siirretään) muistissa niin, että vapaat muistialueet tulevat yhtenäisiksi. Eheyttäminen halutaan tehdä mahdollisimman tehokkaasti eli niin, että tarvitaan mahdollisimman vähän datan siirto-operaatioita (tehtävässä esiintyi tämä aspekti).
            </p>
            <p>Toinen pirstaloitumisen ja eheyttämisen kohde on varsinkin perinteiset mekaaniset kiintolevyt, joissa levyn mekaanisen toimintaperiaatteen vuoksi tiedostot kannattaisi tallettaa yhtenäisinä kokonaisuuksina. Perinteisten kiintolevyjen tilalle tulleissa SSD-levyissä pirstaloituminen ei ole niin suuri ongelma.</p>
            <p>Levyjen ja muistin pirstaloituminen poikkeavat siinä mielessä toisistaan, että levyt jo lähtökohtaisesti voivat tallettaa tiedostoja myös pienissä osissa eri puolille levyä. Muistinvaraus sen sijaan yleensä edellyttää yhtenäisen vapaan muistialueen löytymistä.</p>
            <p>Katso lisää esim. <a href="https://fi.wikipedia.org/wiki/Eheytt%C3%A4minen_(tietotekniikka)" target="_blank">https://fi.wikipedia.org/wiki/Eheyttäminen_(tietotekniikka)</a> ja <a href="https://en.wikipedia.org/wiki/Fragmentation_(computing)" target="_blank">https://en.wikipedia.org/wiki/Fragmentation_(computing)</a> (englanniksi).</p>


	  </div> <!-- task-solution -->
   </body>
</html>
