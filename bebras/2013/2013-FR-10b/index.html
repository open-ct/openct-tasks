<!doctype html>
<html>
   <head>
      <meta charset="utf-8">
      <title>2013-FR-10b</title>
    <link class="module" rel="stylesheet" href="../../../_common/modules/pemFioi/taskStyles-0.1.css" id="http://www.france-ioi.org/modules/pemFioi/taskStyles-0.1.css">
    <script class="module" src="../../../_common/modules/ext/jquery/1.7/jquery.min.js" id="http://code.jquery.com/jquery-1.7.1.min.js"></script>
    <script class="module" type="text/javascript" src="../../../_common/modules/ext/json/json2.min.js" id="https://github.com/douglascrockford/JSON-js"></script>
    <script class="remove" type="text/javascript" src="../../../_common/modules/integrationAPI.01/installationAPI.01/pemFioi/installation.js" id="http://www.france-ioi.org/modules/integrationAPI.01/installationAPI.01/pemFioi/installation.js"></script>
    <script class="remove" type="text/javascript" src="../../../_common/modules/ext/jschannel/jschannel.js"></script>
    <script class="proxy module" type="text/javascript" src="../../../_common/modules/integrationAPI.01/official/platform-pr.js" id="http://www.france-ioi.org/modules/integrationAPI.01/official/platform-pr.js"></script>
    <script class="module" type="text/javascript" src="../../../_common/modules/pemFioi/beaver-task.js" id="http://www.france-ioi.org/modules/pemFioi/beaver-task.js"></script>
    <script class="stdButtonsAndMessages module" type="text/javascript" src="../../../_common/modules/integrationAPI.01/installationAPI.01/pemFioi/buttonsAndMessages.js"  id="http://www.france-ioi.org/modules/integrationAPI.01/installationAPI.01/pemFioi/buttonsAndMessages.js"></script>
    <script class="remove" type="text/javascript" src="../../../_common/modules/integrationAPI.01/official/miniPlatform.js" id="http://www.france-ioi.org/modules/integrationAPI.01/official/miniPlatform.js"></script>
      <script class="module" type="text/javascript" src="../../../_common/modules/ext/raphael/2.2.1/raphael.min.js" id="http://cdnjs.cloudflare.com/ajax/libs/raphael/2.2.1/raphael.min.js"></script>

      <script class="remove" type="text/javascript">
       var json = {
          "id": "http://castor-informatique.fr/tasks/2013/2013-FR-10b/",
          "language": "fr",
          "version": "fr.01",
          "authors": "Mathias Hiron, France-ioi",
          "translators": [],
          "license": "CC BY-SA 3.0",
          "taskPathPrefix": "",
          "modulesPathPrefix": "",
          "browserSupport": [],
          "acceptedAnswers": []
      };
      </script>
      <!-- put task css here -->
      <link rel="stylesheet" type="text/css" href="../2013-FR-10a/style.css">
      <script class="" type="text/javascript">
         var level = "hard";
      </script>
      <script src="../2013-FR-10a/2013-FR-10_task.js"></script>
      <script class="grader" src="../2013-FR-10a/grader.js"></script>
   </head>
   <body>
   <div id="task">
      <h1>Chercher-remplacer</h1>
      <p>
      Castor a récupéré un fichier constitué de 12 lignes ayant toutes le même format. Il a besoin de modifier le format de ces données, exactement comme décrit ci-dessous.</p>
      <p>
      </p>
      <table><tr>
      <td style='width:50px'></td>
      <td style='width:200px'>
      <b>Avant :</b><br />
      <textarea id='source' style='height:80px' readonly cols='30' class='pattern'></textarea>
      </td>
      <td width=50>
      </td>
      <td>
      <b>Après : <span class="easy">(attention aux espaces)</span></b><br>
      <textarea id='dest' style='height:80px' readonly cols='30' class='pattern'></textarea>
      </td>
      </tr></table>
      <p>
      Pour convertir ses données efficacement, Castor aimerait utiliser l'outil «&nbsp;chercher-remplacer&nbsp;»
      qui permet de remplacer, partout dans le texte, une séquence de caractères par une autre.
      </p>
      <p>Pouvez-vous montrer à Castor comment s'y prendre <b>en moins de 11 étapes</b>&nbsp;? 
      </p>
      <p>
      </p>
      <table>
      <tr>
      <td style='vertical-align:top;width:350px'>
      <b>Outil :</b><br />
         <div style='border:solid black 1px; padding: 5px; margin:5px'>
            <table>
               <tr>
               <td>Chercher :</td>
               <td><input type='text' id='search' class='pattern' autocapitalize='off'></td>
               </tr>
               <tr>
               <td>Remplacer par :</td>
               <td><input type='text' id='replace' class='pattern' autocapitalize='off'></td>
               </tr>
            </table>
            <center><input type='button' id='replace_all' value='Remplacer tout' style='padding: 5px; margin-bottom:5px; font-weight: bold'></center>
            <div id='info'></div>
            <div id='success'></div>
            <div id='error'></div>
         </div>
      </td>
      <td width=40></td>
      <td style='vertical-align:top;width:200px'>
      <b>État courant du fichier :</b><br />
      <div style='padding:5px'><textarea id='current' style='height:80px' readonly cols='30' class='pattern'></textarea></div>
      <table width="100%"><tr><td width="100%" align="center">
        <input type='button' id='cancel' value='Annuler une étape'>
      </td></tr></table>
      </td>
      </tr>
      </table>
   </div><!-- task -->
   <div id="solution">
      <h2>Solution</h2>
      <style>
      .solpattern {
         background: #EEEEEE;
         font-family: monospace;
         font-size: 100%;
      }
     .soltable  {
        border-collapse: collapse;
     }
     .soltable td {
        border: solid 1px black;
        padding: 0.5em;
        margin: 0em;
     }
      </style>
   <div class='easy'>
     <p>On peut effectuer les 3 remplacements décrits ci-dessous&nbsp;:</p>
      <table class='soltable'>
      <tr>
         <td style='width:6em'>Chercher</td>
         <td style='width:6em'>Remplacer&nbsp;par</td>
         <td style='width:12em'>Résultat</td>
      </tr>
      <tr>
         <td></td>
         <td></td>
         <td><span class='solpattern'>mix(rouge,bleu)=violet</span></td>
      </tr>
      <tr>
         <td><span  class='solpattern'>mix(</span></td>
         <td><i>rien</i></td>
         <td><span  class='solpattern'>rouge,bleu)=violet</span></td>
      </tr>
      <tr>
         <td><span  class='solpattern'>,(</span></td>
         <td><span  class='solpattern'>&nbsp;+&nbsp;</span></td>
         <td><span  class='solpattern'>rouge + bleu)=violet</span></td>
      </tr>
      <tr>
         <td><span  class='solpattern'>)=</span></td>
         <td><span  class='solpattern'>&nbsp;=&nbsp;</span></td>
         <td><span  class='solpattern'>rouge + bleu = violet</span></td>
      </tr>
      </table>
   </div>
   <div class='hard'>
     <p>La principale difficulté provient du fait que l'on veut remplacer
     une virgule par un deux-points, et un deux-points par une virgule.
     Plusieurs méthodes sont possibles pour contourner ce problème.
     </p><p>Une première méthode consiste à utiliser
     un caractère intermédaire, par exemple <span class='solpattern'>#</span>,
     pendant les remplacements, comme décrit ci-dessous&nbsp;:</p>
      <table class='soltable'>
      <tr>
         <td style='width:6em'>Chercher</td>
         <td style='width:6em'>Remplacer&nbsp;par</td>
         <td style='width:12em'>Résultat</td>
      </tr>
      <tr>
         <td></td>
         <td></td>
         <td><span class='solpattern'>((42-3)+5),8:5,72</span></td>
      </tr>
      <tr>
         <td><span  class='solpattern'>((</span></td>
         <td><span  class='solpattern'>(</td>
         <td><span  class='solpattern'>(42-3)+5),8:5,72</span></td>
      </tr>
      <tr>
         <td><span  class='solpattern'>)+</span></td>
         <td><span  class='solpattern'>+</td>
         <td><span  class='solpattern'>(42-3+5),8:5,72</span></td>
      </tr>
      <tr>
         <td><span  class='solpattern'>:</span></td>
         <td><span  class='solpattern'>#</td>
         <td><span  class='solpattern'>(42-3+5),8#5,72</span></td>
      </tr>
      <tr>
         <td><span  class='solpattern'>),</span></td>
         <td><span  class='solpattern'>):</td>
         <td><span  class='solpattern'>(42-3+5):8#5,72</span></td>
      </tr>
      <tr>
         <td><span  class='solpattern'>,</span></td>
         <td><span  class='solpattern'>:</td>
         <td><span  class='solpattern'>(42-3+5):8#5:72</span></td>
      </tr>
      <tr>
         <td><span  class='solpattern'>#</span></td>
         <td><span  class='solpattern'>,</td>
         <td><span  class='solpattern'>(42-3+5):8,5::72</span></td>
      </tr>
      </table>
     <p>Une seconde méthode permet de s'en sortir sans introduire un
     caractère intermédiaire. Il faut pour cela remplacer la
     virgule par une double virgule avant de remplacer la virgule
     par un deux-points. Voici comment faire&nbsp;:
     <table class='soltable'>
      <tr>
         <td style='width:6em'>Chercher</td>
         <td style='width:6em'>Remplacer&nbsp;par</td>
         <td style='width:12em'>Résultat</td>
      </tr>
      <tr>
         <td></td>
         <td></td>
         <td><span class='solpattern'>((42-3)+5),8:5,72</span></td>
      </tr>
      <tr>
         <td><span  class='solpattern'>((</span></td>
         <td><span  class='solpattern'>(</td>
         <td><span  class='solpattern'>(42-3)+5),8:5,72</span></td>
      </tr>
      <tr>
         <td><span  class='solpattern'>)+</span></td>
         <td><span  class='solpattern'>+</td>
         <td><span  class='solpattern'>(42-3+5),8:5,72</span></td>
      </tr>
      <tr>
         <td><span  class='solpattern'>,</span></td>
         <td><span  class='solpattern'>,,</td>
         <td><span  class='solpattern'>(42-3+5),,8:5,,72</span></td>
      </tr>
      <tr>
         <td><span  class='solpattern'>:</span></td>
         <td><span  class='solpattern'>,</td>
         <td><span  class='solpattern'>(42-3+5),,8,5,,72</span></td>
      </tr>
      <tr>
         <td><span  class='solpattern'>),,</span></td>
         <td><span  class='solpattern'>):</td>
         <td><span  class='solpattern'>(42-3+5):8,5,,72</span></td>
      </tr>
      <tr>
         <td><span  class='solpattern'>,,</span></td>
         <td><span  class='solpattern'>::</td>
         <td><span  class='solpattern'>(42-3+5):8,5::72</span></td>
      </tr>
      </table>
   </div>
      <h2>C'est de l'informatique !</h2>
      <p>
      Lorsqu'on manipule des textes sous forme de fichier, il est très pratique
      de pouvoir chercher toutes les <i>occurrences</i> (les apparitions)
      d'un mot dans ce texte. De même, il est très pratique de pouvoir remplacer
      toutes ces occurrences d'un mot par un autre mot.
      </p><p> 
      Dans ce sujet, on s'intéressait à remplacer tous les mots qui apparaissent 
      exactement sous une forme donnée. Dans d'autres problèmes de la vie réelle, 
      on s'intéresse à savoir si une forme approchée d'un mot donné apparaît 
      dans un texte.
      Par exemple, cela sert en biologie&nbsp;: on dispose 
      d'une séquence d'ADN, c'est-à-dire un très long texte formé uniquement 
      des lettres A, G, C et T, et on souhaite détecter si cette séquence 
      contient une version mutée d'un gène donné. </p><p>Le gène est décrit par 
      une relativement courte séquence de lettres, mais certaines de ces 
      lettres peuvent avoir été modifiées suite à des mutations.
      Vu que les séquences d'ADN contiennent des milliards de symboles,
      il est important de disposer d'algorithmes très efficaces de recherche 
      de motifs. </p>
   </div> <!-- task-solution -->
</body>
</html>
